关键路径

AOV网可以反映活动之间的先后制约关系，
但在实际工程中，有时活动不仅有先后顺序，
还有持续时间，必须经过多长时间该活动才可以完成。

这时需要另外一种网络——AOE网（Activity On Edge），即以边表示活动的网。
AOE网是一个带权的有向无环图，节点表示事件，弧表示活动，弧上的权值表示活动持续的时间。

在实际工程应用中通常需要解决两个问题：
①估算完成整个工程至少需要多少时间；
②判断哪些活动是关键活动，即如果该活动被耽搁，则会影响整个工程进度。

---

确定关键路径时首先要清楚4个问题：
事件的最早发生时间、最迟发生时间，以及活动的最早发生时间、最迟发生时间。

1）事件V i 的最早发生时间ve[ i ]
事件V i 的最早发生时间是从源点到V i 的最大路径长度。
以V i 的最早发生时间考察入边，取弧尾ve+入边权值的最大值，ve[ i ]=max{ve[ k ]+ w ki }，<V k ,V i >∈ T 。
为以V i 为弧头的弧集合，即V i 的入边集合

2）事件V i 的最迟发生时间vl[ i ]
取弧头vl-出边权值的最小值，ve[ i ]=min{vl[ k ]- w ki }，<V k ,V i >∈ T 。
T 为以V i 为弧尾的弧集合，即V i 的出边集合。

3）活动 a i =<V j ,V k >的最早发生时间 e [ i ]
只要事件V j 发生了，活动 a i 就可以开始，因此活动 a i 的最早发生时间等于事件V j 的最早发生时间。
即 a i 的最早发生时间为其弧尾的最早发生时间， e [ i ]=ve[ j ]。

4）活动 a i =<V j ,V k >的最迟发生时间 l [ i ]
活动 a i 的最迟发生时间不能耽误事件V k 的最迟发生时间，
因此活动 a i 的最迟发生时间等于事件V k 的最迟发生时间减去活动 a i 的持续时间 w jk 。
即活动 a i 的最迟发生时间等于弧头的最迟发生时间减去边值， l [ i ]=vl[ k ]- w jk 。

---

（1）事件V i 的最早发生时间ve[ i ]：考察入边，弧尾ve+入边权值的最大值。

（2）事件V i 的最迟发生时间vl[ i ]：考察出边，弧头vl-出边权值的最小值。

（3）活动 a i 的最早发生时间 e [ i ]：弧尾的最早发生时间。

（4）活动 a i 的最迟发生时间 l [ i ]：弧头的最迟发生时间减去边值。

---

