
题目描述（POJ1988）： 贝西正在玩方块游戏，方块编号为1～ N （1≤ N ≤30,000），开始时每个方块都相当于一个栈。贝西执行 P 个（1≤ P ≤100,000）操作，操作类型有两种：M X Y ，将包含 X 的栈整体移动到包含 Y 的栈顶部；C X ，查询 X 方块下的方块数量。请统计贝西每个操作的结果。

输入： 第1行为单个整数 P ，表示操作的数量。第2～ P +1行：每一行都描述一个操作（注意： N 的值不会出现在输入文件中，没有一种移动操作会请求将栈移动到自身）。

输出： 对每个C操作，都输出统计结果。

题解： 本题包括移动和计数两种操作，方块的整体移动可以使用二维数组实现，但是操作数量很大，若一个一个地移动，则会超时。整体移动相当于集合的合并，因此可以借助并查集实现，在集合查找和合并时，更新树根下方的方块数量即可。使用并查集可以快速、高效地解决该问题。